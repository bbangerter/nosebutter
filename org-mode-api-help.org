** Parsing org code block with elisp

#+NAME: is-checked
#+BEGIN_SRC org :results raw replace 
  - [X] yes, I am checked
#+END_SRC

#+NAME: is-a-checkbox-on
#+BEGIN_SRC elisp :results replace :var data=is-checked() :exports both
  (org-element-map
      (with-temp-buffer
        (insert data)
        (org-element-parse-buffer))
      'item
    (lambda (item) (eq (org-element-property :checkbox item) 'on))
    nil t))
#+END_SRC

#+RESULTS: is-a-checkbox-on
: t

-------

#+NAME: three-headlines
#+BEGIN_SRC org
  ,* level 1
  ,** level 2
  ,*** level 3
#+END_SRC


#+BEGIN_SRC elisp :results list replace :var data=three-headlines() :exports both 
  (org-element-map
      (with-temp-buffer
        (insert data)
        (org-element-parse-buffer))
      '(headline)
    (lambda (hl) (org-element-property :raw-value hl))
    )
#+END_SRC

#+RESULTS:
- level 1
- level 2
- level 3

